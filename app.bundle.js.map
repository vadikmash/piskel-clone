{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/pencil.png","webpack:///./src/assets/bucket.png","webpack:///./src/assets/eraser.png","webpack:///./src/assets/picker.png","webpack:///./src/template.html","webpack:///./src/Constants.js","webpack:///./src/App.js","webpack:///./src/assets/menu.png","webpack:///./src/assets/options.png","webpack:///./src/assets/reset.png","webpack:///./src/assets/+.png","webpack:///./src/assets/default.png","webpack:///./src/style.scss?e6a9","webpack:///./src/style.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./src/assets/delete.png","webpack:///./src/assets/move.png","webpack:///./src/assets/copy.png","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","COLORS","black","gray","red","blue","transparent","selectedTool","RESOLUTIONS","low","cols","rows","medium","hight","__webpack_exports__","_template_html__WEBPACK_IMPORTED_MODULE_0__","_template_html__WEBPACK_IMPORTED_MODULE_0___default","_assets_pencil_png__WEBPACK_IMPORTED_MODULE_2__","_assets_pencil_png__WEBPACK_IMPORTED_MODULE_2___default","_assets_bucket_png__WEBPACK_IMPORTED_MODULE_3__","_assets_bucket_png__WEBPACK_IMPORTED_MODULE_3___default","_assets_picker_png__WEBPACK_IMPORTED_MODULE_4__","_assets_picker_png__WEBPACK_IMPORTED_MODULE_4___default","_assets_eraser_png__WEBPACK_IMPORTED_MODULE_5__","_assets_eraser_png__WEBPACK_IMPORTED_MODULE_5___default","_Constants__WEBPACK_IMPORTED_MODULE_6__","_Constants__WEBPACK_IMPORTED_MODULE_6___default","CONSTANTS","canvas","ctx","bucket","choose","reset","pencil","eraser","current","colorSelector","prev","prevInd","color","prevColor","tool","frames","previews","animationIndervalId","previewIndervalId","currentFrame","previewFrame","fps","animating","changeColor","newColor","prevColorBuf","style","background","document","getElementById","canvasMouseDown","event","mouseDown","animate","length","draw","play","clearInterval","innerText","exitFullscreen","setInterval","requestFullscreen","cleanTools","bucketClick","cursor","BUCKET_CURSOR","pencilClick","PENCIL_CURSOR","chooseClick","PICKER_CURSOR","resetClick","eraserClick","ERASER_CURSOR","canvasClick","click","hotKey","code","moveDownFrame","downEvent","movingFrame","target","parentNode","movingFrameNumber","id","slice","body","initialPos","x","clientX","y","clientY","swapFrames","frame1","frame2","buf","moveMoveFrame","moveEvent","translation","nextSibling","insertBefore","previousSibling","transform","addEventListener","moveUpFrame","removeEventListener","renumerate","counter","curFrame","firstChild","innerHTML","border","switchFrame","remove","Frame","constructor","resolution","this","pixelSize","width","pixels","Array","fill","newFrame","createElement","className","frameControl","newFrameButton","[object Object]","original","copy","assign","Error","clearRect","height","j","fillStyle","strokeStyle","fillRect","toDataURL","src","map","getClickedPixel","exeption","xNum","Math","floor","yNum","index","indx","undefined","outOfRange","initialColor","canvasPos","getBoundingClientRect","left","top","pixel","pixelIdex","pixelIndex","initialX","initialY","onmousemove","onMove","onmouseup","onUp","eventMove","drawLine","curX","xIncrement","abs","curY","yIncrement","curFig","frame","delIndex","splice","clone","createNewFrame","push","animatePreview","playPreview","setFps","newFps","fpsChange","fpsClick","bodyMouseUp","selectColor","TEMPLATE_MAIN","getContext","onclick","onmousedown","content","options","hmr","insertInto","locals","getUrl","___CSS_LOADER_URL___0___","___CSS_LOADER_URL___1___","___CSS_LOADER_URL___2___","useSourceMap","list","toString","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","_i","url","needQuotes","test","replace","fn","memo","stylesInDom","isOldIE","window","all","atob","apply","arguments","getElement","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","lastStyleElementInsertedAtTop","insertAt","appendChild","before","removeStyleElement","removeChild","idx","indexOf","createStyleElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __webpack_public_path__ + \"de476d8e412c6a57ee46315d03cd60ec.png\";","module.exports = __webpack_public_path__ + \"dc0c3d772410a5bb267cba4a6424ec24.png\";","module.exports = __webpack_public_path__ + \"a15754a34f7f6bc40aa68c3c7d88a5a7.png\";","module.exports = __webpack_public_path__ + \"0b08562cf2ce3321b7576170efd4ce20.png\";","module.exports = \"<header>\\n  <div class=\\\"slide-menu\\\">\\n    <img src=\\\"\" + require(\"./assets/menu.png\") + \"\\\" alt=\\\"menu\\\">\\n  </div>\\n  <h1>Piskel-Clone</h1>\\n  <div class=\\\"options\\\">\\n    <img src=\\\"\" + require(\"./assets/options.png\") + \"\\\" alt=\\\"options\\\">\\n  </div>\\n</header>\\n<main>\\n  <div class=\\\"tools-wrapper\\\">\\n    <ul class=\\\"tool-picker\\\">\\n      <li id=\\\"pencil\\\">\\n        <img src=\\\"\" + require(\"./assets/pencil.png\") + \"\\\" alt=\\\"pencil-icon\\\" class=\\\"tool-icon\\\">\\n        <span>(P)</span>\\n      </li>\\n      <li id=\\\"bucket\\\">\\n        <img src=\\\"\" + require(\"./assets/bucket.png\") + \"\\\" alt=\\\"bucket-icon\\\" class=\\\"tool-icon\\\">\\n        <span>(B)</span>\\n      </li>\\n      <li id=\\\"eraser\\\">\\n        <img src=\\\"\" + require(\"./assets/eraser.png\") + \"\\\" alt=\\\"eraser-icon\\\" class=\\\"tool-icon\\\">\\n        <span>(E)</span>\\n      </li>\\n      <li id=\\\"choose\\\">\\n        <img src=\\\"\" + require(\"./assets/picker.png\") + \"\\\" alt=\\\"pick-icon\\\" class=\\\"tool-icon\\\">\\n        <span>(C)</span>\\n      </li>\\n      <li id=\\\"reset\\\">\\n        <img src=\\\"\" + require(\"./assets/reset.png\") + \"\\\" alt=\\\"reset-icon\\\" class=\\\"tool-icon\\\">\\n        <span>(R)</span>\\n      </li>\\n    </ul>\\n    <ul class=\\\"color-picker\\\">\\n      <li id=\\\"current\\\">\\n        <input type=\\\"color\\\" id=\\\"color-selector\\\">\\n      </li>\\n      <li id=\\\"prev\\\">\\n        <div class=\\\"color-circle\\\" id=\\\"prev-indicator\\\"></div>\\n      </li>\\n      <li class=\\\"red\\\" id=\\\"red\\\">\\n        <div class=\\\"color-circle\\\"></div>\\n      </li>\\n      <li class=\\\"blue\\\" id=\\\"blue\\\">\\n        <div class=\\\"color-circle\\\"></div>\\n      </li>\\n    </ul>\\n  </div>\\n  <div class=\\\"frame-control\\\" id=\\\"frame-control\\\">\\n    <div class=\\\"new frame\\\" id=\\\"new-frame\\\">\\n      <img src=\\\"\" + require(\"./assets/+.png\") + \"\\\" alt=\\\"new\\\">\\n      <span>new frame</span>\\n    </div>\\n  </div>\\n  <div class=\\\"canvas-wrapper\\\">\\n    <div class=\\\"palette-background\\\">\\n      <canvas class=\\\"palette\\\" id=\\\"palette\\\" width=\\\"512\\\" height=\\\"512\\\">\\n        <!-- fallback contect -->\\n        <p>canvas is not supported :(</p>\\n      </canvas>\\n    </div>\\n  </div>\\n  <div class=\\\"preview-wrapper\\\">\\n    <div class=\\\"preview-box\\\">\\n      <h3>preview</h3>\\n      <div class=\\\"preview-img-wrapper\\\">\\n        <img id=\\\"preview\\\" src=\\\"\" + require(\"./assets/default.png\") + \"\\\" alt=\\\"preview\\\" width=\\\"250\\\" height=\\\"250\\\">\\n      </div>\\n      <br>\\n      <div class=\\\"fps-range-wrapper\\\" id=\\\"fps-rate-wrapper\\\">\\n        <span class=\\\"fps-indicator\\\" id=\\\"fps-indicator\\\">8 fps</span>\\n        <input class=\\\"fps-range\\\" id=\\\"fps-range\\\" type=\\\"range\\\" min=\\\"1\\\" max=\\\"24\\\" value=\\\"8\\\">\\n      </div>\\n      <div class=\\\"frame-rate-wrapper\\\" id=\\\"fps-wrapper\\\">\\n        <div class=\\\"fps-button\\\" id=\\\"4fps\\\">4fps</div>\\n        <div class=\\\"fps-button\\\" id=\\\"8fps\\\">8fps</div>\\n        <div class=\\\"fps-button\\\" id=\\\"16fps\\\">16fps</div>\\n      </div>\\n      <div class=\\\"play-button\\\" id=\\\"play\\\">\\n          <span>Play (A)</span>\\n      </div>\\n    </div>\\n  </div>\\n</main>\\n\";","module.exports = {\n  COLORS: {\n    black: '#000000',\n    gray: '#404040',\n    red: '#FF0000',\n    blue: '#0000CC',\n    transparent: '#00000000',\n    selectedTool: 'rgb(219, 219, 219)',\n  },\n  RESOLUTIONS: {\n    low: {\n      cols: 32,\n      rows: 32,\n    },\n    medium: {\n      cols: 64,\n      rows: 64,\n    },\n    hight: {\n      cols: 128,\n      rows: 128,\n    },\n  },\n};\n","/* eslint-disable no-use-before-define */\n\n// page layout\nimport TEMPLATE_MAIN from './template.html';\n\n// and styles\nimport './style.scss';\n\n// cursors\nimport PENCIL_CURSOR from './assets/pencil.png';\nimport BUCKET_CURSOR from './assets/bucket.png';\nimport PICKER_CURSOR from './assets/picker.png';\nimport ERASER_CURSOR from './assets/eraser.png';\n\n\n// constants\nimport CONSTANTS from './Constants';\n\nconst { COLORS, RESOLUTIONS } = CONSTANTS;\n\n// variables\n//\n// canvas\nlet canvas;\nlet ctx;\n// tool selectors\nlet bucket;\nlet choose;\nlet reset;\nlet pencil;\nlet eraser;\n// color selectors and indicators\nlet red;\nlet blue;\nlet current;\nlet colorSelector;\nlet prev;\nlet prevInd;\n// current color, current tool\nlet color = COLORS.black;\nlet prevColor = COLORS.gray;\nlet tool = 'pencil';\nconst frames = [];\nconst previews = [];\nlet currentFrame = 0;\nlet previewFrame = 0;\n// animation\nlet fps = 8;\nlet animationIndervalId;\nlet previewIndervalId;\nlet animating = false;\n\n\nfunction changeColor(newColor) {\n  if (newColor !== color && newColor !== COLORS.transparent) {\n    const prevColorBuf = color;\n    color = newColor !== '#00000000' ? newColor : '#FFFFFF';\n    prevColor = prevColorBuf;\n  }\n  prevInd.style.background = prevColor;\n  document.getElementById('color-selector').value = color;\n}\n\nfunction canvasMouseDown(event) {\n  frames[currentFrame].mouseDown(event);\n}\n\n\nfunction animate() {\n  currentFrame += 1;\n  if (currentFrame === frames.length) {\n    currentFrame = 0;\n  }\n  frames[currentFrame].draw();\n}\n\n\nfunction play() {\n  if (!animating) {\n    animationIndervalId = setInterval(animate, 1000 / fps);\n    animating = true;\n    document.getElementById('play').innerText = 'Stop (A)';\n    document.getElementById('palette').requestFullscreen();\n  } else {\n    clearInterval(animationIndervalId);\n    animating = false;\n    document.getElementById('play').innerText = 'Play (A)';\n    document.exitFullscreen();\n  }\n}\n\nfunction cleanTools() {\n  bucket.style.background = COLORS.transparent;\n  choose.style.background = COLORS.transparent;\n  pencil.style.background = COLORS.transparent;\n}\n\nfunction bucketClick() {\n  tool = 'bucket';\n  cleanTools();\n  bucket.style.background = COLORS.selectedTool;\n  canvas.style.cursor = `url(${BUCKET_CURSOR}) 4 8, auto`;\n}\n\nfunction pencilClick() {\n  tool = 'pencil';\n  cleanTools();\n  color = colorSelector.value;\n  pencil.style.background = COLORS.selectedTool;\n  canvas.style.cursor = `url(${PENCIL_CURSOR}) 0 30, auto`;\n}\n\nfunction chooseClick() {\n  tool = 'choose';\n  cleanTools();\n  choose.style.background = COLORS.selectedTool;\n  canvas.style.cursor = `url(${PICKER_CURSOR}) 0 30, auto`;\n}\n\nfunction resetClick() {\n  if (animating) { play(); }\n  frames[currentFrame].reset();\n}\n\nfunction eraserClick() {\n  tool = 'eraser';\n  cleanTools();\n  eraser.style.background = COLORS.selectedTool;\n  canvas.style.cursor = `url(${ERASER_CURSOR}) 0 30, auto`;\n  color = COLORS.transparent;\n}\n\n\nfunction canvasClick(event) {\n  if (animating) { play(); }\n  frames[currentFrame].click(event);\n}\n\nfunction hotKey(event) {\n  if (event.code === 'KeyB') bucketClick();\n  if (event.code === 'KeyP') pencilClick();\n  if (event.code === 'KeyC') chooseClick();\n  if (event.code === 'KeyR') resetClick();\n  if (event.code === 'KeyE') eraserClick();\n  if (event.code === 'KeyA') { play(); }\n}\n\nfunction moveDownFrame(downEvent) {\n  const movingFrame = downEvent.target.parentNode;\n  let movingFrameNumber = +movingFrame.id.slice(5);\n  movingFrame.style['z-index'] = 1;\n  document.body.style.cursor = 'move';\n  const initialPos = {\n    x: downEvent.clientX,\n    y: downEvent.clientY,\n  };\n\n  function swapFrames(frame1, frame2) {\n    // swap frames\n    let buf = frames[frame1];\n    frames[frame1] = frames[frame2];\n    frames[frame2] = buf;\n    // and previews\n    buf = previews[frame1];\n    previews[frame1] = previews[frame2];\n    previews[frame2] = buf;\n  }\n\n  function moveMoveFrame(moveEvent) {\n    const translation = {\n      x: moveEvent.clientX - initialPos.x,\n      y: moveEvent.clientY - initialPos.y,\n    };\n    // move down\n    if (translation.y > 111 && movingFrame.nextSibling.id !== 'new-frame') {\n      movingFrame.parentNode.insertBefore(movingFrame, movingFrame.nextSibling.nextSibling);\n      initialPos.y = moveEvent.clientY;\n      translation.y = 0;\n\n      swapFrames(movingFrameNumber, movingFrameNumber + 1);\n\n      movingFrameNumber += 1;\n    }\n    // move up\n    if (translation.y < -111 && movingFrame.previousSibling.previousSibling) {\n      movingFrame.parentNode.insertBefore(movingFrame, movingFrame.previousSibling);\n      initialPos.y = moveEvent.clientY;\n      translation.y = 0;\n\n      swapFrames(movingFrameNumber, movingFrameNumber - 1);\n\n      movingFrameNumber -= 1;\n    }\n    movingFrame.style.transform = `translateY(${translation.y}px)`;\n  }\n  function moveUpFrame() {\n    document.body.style.cursor = 'inherit';\n    movingFrame.style.transform = 'translateY(0px)';\n    movingFrame.style.transform = 'scale(1)';\n\n    document.removeEventListener('mousemove', moveMoveFrame);\n    document.removeEventListener('mouseup', moveUpFrame);\n    currentFrame = movingFrameNumber;\n    renumerate();\n    frames[currentFrame].draw();\n  }\n  document.addEventListener('mousemove', moveMoveFrame);\n  document.addEventListener('mouseup', moveUpFrame);\n}\n\nfunction renumerate() {\n  const frameControl = document.getElementById('frame-control');\n  let counter = 0;\n  // for some reason first child is undefined,\n  // so I have to use next sibling to make it work right\n  let curFrame = frameControl.firstChild.nextSibling;\n  while (curFrame.id !== 'new-frame') {\n    curFrame.id = `frame${counter}`;\n    curFrame.innerHTML = `\n    <div class=\"frame-number\" id=\"number${counter}\">${counter + 1}</div>\n    <div class=\"delete-frame\" id=\"delete${counter}\"></div>\n\n    <img class=\"frame-preview\" id=\"frame-preview${counter}\"\n        src=\"${previews[counter]}\" alt=\"preview\"></img>\n\n    <div class=\"move-frame\" id=\"move${counter}\"></div>\n    <div class=\"copy-frame\" id=\"copy${counter}\"></div>\n    `;\n    curFrame.style.border = '2px solid gray';\n    curFrame.style['z-index'] = 0;\n\n    document.getElementById(`move${counter}`).addEventListener('mousedown', moveDownFrame);\n\n    curFrame.addEventListener('click', switchFrame);\n\n    curFrame = curFrame.nextSibling;\n\n    counter += 1;\n  }\n  document.getElementById(`frame${currentFrame}`).style.border = '2px solid yellow';\n\n  // don't show unnesessary buttons if only one frame left\n  if (frames.length === 1) {\n    document.getElementById(`delete${currentFrame}`).remove();\n    document.getElementById(`move${currentFrame}`).remove();\n  }\n}\n\nclass Frame {\n  constructor(resolution) {\n    const { cols, rows } = resolution;\n    this.cols = cols;\n    this.rows = rows;\n    this.pixelSize = canvas.width / this.cols;\n    this.pixels = Array(cols * rows).fill(COLORS.transparent);\n\n    const newFrame = document.createElement('div');\n    newFrame.className = 'frame';\n    newFrame.id = `frame${frames.length}`;\n    newFrame.innerHTML = `\n    <div class=\"frame-number\" id=\"number\">${frames.length + 1}</div>\n    <img class=\"frame-preview\" id=\"frame-preview${frames.length}\"\n         src=\"assets/default.png\" alt=\"preview\"></img>\n\n    <div class=\"copy-frame\" id=\"copy\"></div>\n    `;\n    const frameControl = document.getElementById('frame-control');\n    const newFrameButton = document.getElementById('new-frame');\n    frameControl.insertBefore(newFrame, newFrameButton);\n    newFrame.addEventListener('click', switchFrame);\n  }\n\n  static clone(original) {\n    if (original instanceof Frame) {\n      const copy = new Frame({ cols: original.cols, rows: original.rows });\n      Object.assign(copy.pixels, original.pixels);\n\n      return copy;\n    }\n    throw new Error('Object trying to be cloned is not a Frame');\n  }\n\n  draw() {\n    // clean canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // draw each pixel\n    for (let i = 0; i < this.cols; i += 1) {\n      for (let j = 0; j < this.rows; j += 1) {\n        ctx.fillStyle = this.pixels[i * this.rows + j];\n        ctx.strokeStyle = this.pixels[i * this.rows + j];\n        ctx.fillRect(this.pixelSize * j, this.pixelSize * i, this.pixelSize, this.pixelSize);\n      }\n    }\n\n    // make preview\n    previews[currentFrame] = canvas.toDataURL();\n    document.getElementById(`frame-preview${currentFrame}`).src = previews[currentFrame];\n  }\n\n  reset() {\n    // eslint-disable-next-line no-unused-vars\n    this.pixels = this.pixels.map(() => COLORS.transparent);\n    this.draw();\n  }\n\n  getClickedPixel(x, y, exeption) {\n    const xNum = Math.floor(x / this.pixelSize);\n    const yNum = Math.floor(y / this.pixelSize);\n    const index = yNum * this.cols + xNum;\n    if (index !== exeption && xNum >= 0 && yNum >= 0\n        && xNum < this.cols && yNum < this.rows) {\n      return { indx: index, x: xNum, y: yNum };\n    }\n    return { indx: undefined, x: undefined, y: undefined };\n  }\n\n  outOfRange(x, y) {\n    if (x < 0 || y < 0 || x >= this.cols || y >= this.rows) return true;\n    return false;\n  }\n\n  fill(x, y, initialColor) {\n    // center\n    if (!this.outOfRange(x, y) && initialColor !== this.pixels[y * this.cols + x]) {\n      // top\n      if (!this.outOfRange(x, y - 1) && this.pixels[(y - 1) * this.cols + x] === initialColor) {\n        this.pixels[(y - 1) * this.cols + x] = color;\n        this.fill(x, y - 1, initialColor);\n      }\n      // right\n      if (!this.outOfRange(x + 1, y) && this.pixels[y * this.cols + (x + 1)] === initialColor) {\n        this.pixels[y * this.cols + (x + 1)] = color;\n        this.fill(x + 1, y, initialColor);\n      }\n      // bottom\n      if (!this.outOfRange(x, y + 1) && this.pixels[(y + 1) * this.cols + x] === initialColor) {\n        this.pixels[(y + 1) * this.cols + x] = color;\n        this.fill(x, y + 1, initialColor);\n      }\n      // left\n      if (!this.outOfRange(x - 1, y) && this.pixels[y * this.cols + x - 1] === initialColor) {\n        this.pixels[y * this.cols + x - 1] = color;\n        this.fill(x - 1, y, initialColor);\n      }\n    }\n  }\n\n  click(event) {\n    const canvasPos = canvas.getBoundingClientRect();\n    const x = event.clientX - canvasPos.left;\n    const y = event.clientY - canvasPos.top;\n    const pixel = this.getClickedPixel(x, y);\n    const pixelIdex = pixel.indx;\n    if (pixelIdex || pixelIdex === 0) {\n      if (tool === 'pencil' || tool === 'eraser') {\n        this.pixels[pixelIdex] = color;\n      }\n      if (tool === 'bucket') {\n        const initialColor = this.pixels[pixelIdex];\n        this.pixels[pixelIdex] = color;\n        this.fill(pixel.x, pixel.y, initialColor);\n      }\n      if (tool === 'choose') {\n        changeColor(this.pixels[pixelIdex]);\n      }\n    }\n    this.draw();\n  }\n\n  mouseDown(event) {\n    if (tool === 'pencil' || tool === 'eraser') {\n      const canvasPos = canvas.getBoundingClientRect();\n      const x = event.clientX - canvasPos.left;\n      const y = event.clientY - canvasPos.top;\n      this.pixel = this.getClickedPixel(x, y);\n      this.pixelIndex = this.pixel.indx;\n      if (this.pixelIndex || this.pixelIndex === 0) {\n        this.initialX = x;\n        this.initialY = y;\n        this.pixels[this.pixelIdex] = color;\n        document.onmousemove = this.onMove.bind(this);\n        document.onmouseup = this.onUp.bind(this);\n      }\n    }\n    this.draw();\n  }\n\n  onMove(eventMove) {\n    if (tool === 'pencil' || tool === 'eraser') {\n      const canvasPos = canvas.getBoundingClientRect();\n      const x = eventMove.clientX - canvasPos.left;\n      const y = eventMove.clientY - canvasPos.top;\n      const pixel = this.getClickedPixel(x, y);\n      const pixelIdex = pixel.indx;\n      if (pixelIdex || pixelIdex === 0) {\n        this.pixels[pixelIdex] = color;\n      }\n      this.drawLine(x, y);\n      this.initialX = x;\n      this.initialY = y;\n      this.draw();\n    }\n  }\n\n  drawLine(x, y) {\n    let curX = x;\n    let xIncrement = Math.abs(curX - this.initialX) / this.cols;\n    if (curX > this.initialX) { xIncrement = -xIncrement; }\n    let curY = y;\n    let yIncrement = Math.abs(curY - this.initialY) / this.rows;\n    if (curY > this.initialY) { yIncrement = -yIncrement; }\n    while (Math.abs(curX - this.initialX) > Math.abs(xIncrement)\n        || Math.abs(curY - this.initialY) > Math.abs(yIncrement)) {\n      curX += xIncrement;\n      curY += yIncrement;\n      const curFig = this.getClickedPixel(curX, curY).indx;\n      if (curFig) {\n        this.pixels[curFig] = color;\n      }\n    }\n  }\n\n  onUp() {\n    document.onmousemove = null;\n    document.onmouseup = null;\n    this.draw();\n  }\n}\n\n\nfunction switchFrame(event) {\n  // switch\n  if (event.target.id.slice(0, 13) === 'frame-preview') {\n    if (animating) { play(); }\n    const frame = +event.target.id.slice(13);\n    document.getElementById(`frame${frame}`).style.border = '2px solid yellow';\n    currentFrame = frame;\n  }\n  if (event.target.id.slice(0, 6) === 'number') {\n    if (animating) { play(); }\n    const frame = +event.target.id.slice(6);\n    document.getElementById(`frame${frame}`).style.border = '2px solid yellow';\n    currentFrame = frame;\n  }\n  // delete\n  if (event.target.id.slice(0, 6) === 'delete' && frames.length > 1) {\n    const delIndex = +event.target.id.slice(6);\n    frames.splice(delIndex, 1);\n    previews.splice(delIndex, 1);\n    if (currentFrame >= frames.length) {\n      currentFrame = frames.length - 1;\n    }\n    previewFrame = 0;\n    event.target.parentNode.remove();\n  }\n  // duplicate\n  if (event.target.id.slice(0, 4) === 'copy') {\n    const index = +event.target.id.slice(4);\n    frames.splice(index, 0, Frame.clone(frames[index]));\n    previews.splice(index, 0, previews[index]);\n    currentFrame = index + 1;\n  }\n  renumerate();\n  frames[currentFrame].draw();\n}\n\nfunction createNewFrame() {\n  currentFrame = frames.length;\n  frames.push(new Frame(RESOLUTIONS.medium));\n  renumerate();\n  frames[currentFrame].draw();\n}\n\n\nfunction animatePreview() {\n  document.getElementById('preview').src = previews[previewFrame];\n  previewFrame += 1;\n  if (previewFrame === previews.length) {\n    previewFrame = 0;\n  }\n}\n\nfunction playPreview() {\n  if (previewIndervalId) {\n    clearInterval(previewIndervalId);\n  }\n  previewIndervalId = setInterval(animatePreview, 1000 / fps);\n}\n\nfunction setFps(newFps) {\n  fps = newFps;\n  if (animating) {\n    play();\n    play();\n  }\n  playPreview();\n  document.getElementById('fps-range').value = fps;\n  document.getElementById('fps-indicator').innerHTML = `${fps} fps`;\n}\n\nfunction fpsChange() {\n  setFps(document.getElementById('fps-range').value);\n}\n\nfunction fpsClick(event) {\n  if (event) {\n    if (event.target.id === '4fps') setFps(4);\n    if (event.target.id === '8fps') setFps(8);\n    if (event.target.id === '16fps') setFps(16);\n  }\n  if (animating) {\n    play();\n    play();\n  }\n  playPreview();\n}\n\nfunction bodyMouseUp(event) {\n  if (event.target.id !== 'palette') {\n    canvas.onmouseup = null;\n    canvas.onmousemove = null;\n  }\n}\n\nfunction selectColor() {\n  changeColor(colorSelector.value);\n}\n\n// function befoureUnload(event) {\n//   const e = event || window.event;\n//   const myMessage = 'Are you sure you want to leave without saving?';\n//   if (e) {\n//     e.returnValue = myMessage;\n//   }\n//   return myMessage;\n// }\n\nfunction init() {\n  document.body.innerHTML = TEMPLATE_MAIN;\n  // canvas\n  canvas = document.getElementById('palette');\n  ctx = canvas.getContext('2d');\n  canvas.onclick = canvasClick;\n  canvas.onmousedown = canvasMouseDown;\n  // tools\n  reset = document.getElementById('reset');\n  reset.onclick = resetClick;\n  bucket = document.getElementById('bucket');\n  bucket.onclick = bucketClick;\n  choose = document.getElementById('choose');\n  choose.onclick = chooseClick;\n  pencil = document.getElementById('pencil');\n  pencil.addEventListener('click', pencilClick);\n  eraser = document.getElementById('eraser');\n  eraser.addEventListener('click', eraserClick);\n  canvas.style.cursor = `url(${PENCIL_CURSOR}) 0 30, auto`;\n  // add event listners\n  document.addEventListener('keydown', hotKey);\n  // colors\n  current = document.getElementById('current');\n  colorSelector = document.getElementById('color-selector');\n  current.onclick = selectColor;\n  prev = document.getElementById('prev');\n  prev.onclick = function changeToPrev() { changeColor(prevColor); };\n  prevInd = document.getElementById('prev-indicator');\n  red = document.getElementById('red');\n  red.onclick = function changeToRed() { changeColor(COLORS.red); };\n  blue = document.getElementById('blue');\n  blue.onclick = function changeToBlue() { changeColor(COLORS.blue); };\n  //\n  pencil.style.background = 'rgb(219, 219, 219)';\n  changeColor(color);\n  //\n  document.getElementById('color-selector').addEventListener('change', selectColor);\n  //\n  document.getElementById('new-frame').addEventListener('click', createNewFrame);\n  document.getElementById('play').addEventListener('click', play);\n  document.getElementById('fps-wrapper').addEventListener('click', fpsClick);\n  document.getElementById('fps-range').addEventListener('input', fpsChange);\n\n  document.addEventListener('mouseup', bodyMouseUp);\n\n  // window.addEventListener('beforeunload', befoureUnload);\n\n  frames.push(new Frame(RESOLUTIONS.medium));\n  document.getElementById(`frame${currentFrame}`).style.border = '2px solid yellow';\n  frames[currentFrame].draw();\n\n  playPreview();\n}\n\n\n// start everything\ninit();\n","module.exports = __webpack_public_path__ + \"b9b32884344036759c6cb3edf80b9229.png\";","module.exports = __webpack_public_path__ + \"9077631886fed1c77510159f8eca20f5.png\";","module.exports = __webpack_public_path__ + \"60f305de56a834c2a460134f8c10291d.png\";","module.exports = __webpack_public_path__ + \"551d8c76aee47b0bb8adaee8defd04ea.png\";","module.exports = __webpack_public_path__ + \"9aa95995449e9ec62ca84985b151bbb3.png\";","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!../node_modules/postcss-loader/src/index.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!../node_modules/postcss-loader/src/index.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/lib/loader.js!../node_modules/postcss-loader/src/index.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"./assets/delete.png\"));\nvar ___CSS_LOADER_URL___1___ = getUrl(require(\"./assets/move.png\"));\nvar ___CSS_LOADER_URL___2___ = getUrl(require(\"./assets/copy.png\"));\n// Module\nexports.push([module.id, \"* {\\n  box-sizing: border-box;\\n  font-family: Arial, Helvetica, sans-serif;\\n  margin: 0px;\\n  padding: 0px;\\n  user-select: none; }\\n\\nbody {\\n  background: #f0f0f0;\\n  color: black; }\\n\\nheader {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  height: 8vh;\\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\\n  box-shadow: 3px 4px 8px -2px #545454;\\n  background: white; }\\n\\nmain {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-around;\\n  align-content: center;\\n  margin-top: 8vh; }\\n\\n.tools-wrapper {\\n  margin: 0vh 1vw; }\\n\\n.frame-control {\\n  width: 155px;\\n  min-width: 100px;\\n  height: 82vh;\\n  padding: 0vh 1vw 0vh 0vh;\\n  color: #363636;\\n  overflow: scroll;\\n  background: white; }\\n\\n.frame-control::-webkit-scrollbar {\\n  width: 12px; }\\n\\n.frame-control::-webkit-scrollbar-track {\\n  background: #bbbbbb; }\\n\\n.frame-control::-webkit-scrollbar-thumb {\\n  background: #555; }\\n\\n.frame {\\n  position: relative;\\n  transition: all 0.09s;\\n  height: 110px;\\n  width: 90%;\\n  margin: 1vw;\\n  font-size: 18pt;\\n  text-align: center;\\n  flex-basis: 100%;\\n  border: 2px solid #575757;\\n  cursor: pointer; }\\n\\n.frame-preview {\\n  background-color: #b9b9b9;\\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\\n  background-size: 32px 32px;\\n  background-position: 0px 0px, 16px 16px;\\n  height: 100%;\\n  width: 100%; }\\n\\n.copy-frame, .frame-number, .move-frame, .delete-frame {\\n  position: absolute;\\n  height: 30px;\\n  width: 30px;\\n  border: 1px solid #2b2b2b;\\n  padding: 1px;\\n  margin: 2px;\\n  color: #2e2e2e; }\\n\\n.copy-frame:hover, .move-frame:hover, .delete-frame:hover {\\n  transform: scale(1.1);\\n  transform: translateY(); }\\n\\n.frame-number {\\n  top: 0px;\\n  left: 0px;\\n  background: #afafaf; }\\n\\n.delete-frame {\\n  top: 0px;\\n  right: 0px;\\n  cursor: pointer;\\n  background: url(\" + ___CSS_LOADER_URL___0___ + \"), #afafaf;\\n  background-repeat: no-repeat;\\n  background-size: auto;\\n  background-position: center; }\\n\\n.move-frame {\\n  bottom: 0px;\\n  left: 0px;\\n  cursor: move;\\n  background: url(\" + ___CSS_LOADER_URL___1___ + \"), #afafaf;\\n  background-repeat: no-repeat;\\n  background-size: auto;\\n  background-position: center; }\\n\\n.copy-frame {\\n  bottom: 0px;\\n  right: 0px;\\n  cursor: pointer;\\n  background: url(\" + ___CSS_LOADER_URL___2___ + \"), #afafaf;\\n  background-repeat: no-repeat;\\n  background-size: auto;\\n  background-position: center; }\\n\\n.new-frame:hover {\\n  transform: scale(1.02); }\\n\\n.new-frame:active {\\n  transform: scale(1); }\\n\\n.canvas-wrapper {\\n  text-align: right;\\n  margin: 0px 1vw; }\\n\\n.palette-background {\\n  height: 512px;\\n  width: 512px;\\n  background-color: #b9b9b9;\\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\\n  background-size: 32px 32px;\\n  background-position: 0px 0px, 16px 16px;\\n  border: 1px solid gray; }\\n\\n.preview-box {\\n  margin: 0px 1vw;\\n  padding: 1vh;\\n  text-align: center;\\n  background: white; }\\n\\n.preview-img-wrapper {\\n  background-color: #b9b9b9;\\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\\n  background-size: 32px 32px;\\n  background-position: 0px 0px, 16px 16px; }\\n\\n.preview-box input {\\n  width: 80%; }\\n\\n.preview-box h3 {\\n  padding: 0px;\\n  margin: 1vw; }\\n\\n.frame-rate-wrapper {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-around;\\n  width: 100%;\\n  padding: 1vh; }\\n\\n.fps-range-wrapper {\\n  display: flex;\\n  justify-content: space-around;\\n  padding: 5px 0px; }\\n\\n.fps-range {\\n  width: 190px !important;\\n  background: skyblue; }\\n\\n.fps-button {\\n  transition: all 0.07s;\\n  text-align: center;\\n  background: black;\\n  color: #e2e2e2;\\n  border-radius: 20px;\\n  height: 25px;\\n  width: 60px;\\n  padding: 3px;\\n  cursor: pointer; }\\n\\n.fps-button:hover {\\n  transform: scale(1.08); }\\n\\n.fps-button:active {\\n  transform: scale(1); }\\n\\n.preview-box, .frame-control, .new-frame, .frame, .play-button {\\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\\n  box-shadow: 3px 4px 8px -2px #545454; }\\n\\n.new {\\n  cursor: pointer;\\n  height: 70px;\\n  font-size: 16pt;\\n  padding: 10px;\\n  background: #afafaf; }\\n\\n.new img {\\n  display: inline-block;\\n  padding-bottom: 8px; }\\n\\n.new span {\\n  display: inline-block;\\n  height: 100%;\\n  width: 60%; }\\n\\n.play-button {\\n  transition: all, 0.06s;\\n  height: 60px;\\n  width: 15vw;\\n  margin: 2vh 2vw;\\n  font-size: 24pt;\\n  padding: 1vw;\\n  background: skyblue;\\n  cursor: pointer; }\\n\\n.play-button:hover {\\n  transform: scale(1.05);\\n  background: #6cd5ff; }\\n\\n.play-button:active {\\n  transform: scale(1);\\n  background: skyblue; }\\n\\n.slide-menu, .options {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 50px;\\n  height: 6vh; }\\n\\n.slide-menu img {\\n  width: 25px;\\n  height: 25px; }\\n\\n.options img {\\n  width: 25px;\\n  height: 25px; }\\n\\nh1 {\\n  flex-grow: 1;\\n  font-size: 3.3vh;\\n  padding-left: 2vw;\\n  padding-top: 2px; }\\n\\n.tool-picker, .color-picker {\\n  cursor: pointer;\\n  list-style-type: none;\\n  color: gray;\\n  width: 6.5vw;\\n  margin: 0px 6% 15%;\\n  background: white;\\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\\n  box-shadow: 3px 4px 8px -2px #545454; }\\n\\n.tool-picker li, .color-picker li {\\n  padding: 1.5vh 0px 2vh 1vw; }\\n\\n.tool-picker li:hover, .color-picker li:hover {\\n  background: #dbdbdb; }\\n\\n.tool-picker li:active, .color-picker li:active {\\n  color: #141414; }\\n\\n.tool-picker span, .color-picker span {\\n  display: inline-block;\\n  margin: 0px 0px 0px 7%; }\\n\\n.color-circle {\\n  display: inline-block;\\n  height: 15px;\\n  width: 15px;\\n  border: 1px solid black;\\n  border-radius: 100%; }\\n\\n.red div {\\n  background: red; }\\n\\n.blue div {\\n  background: blue; }\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = __webpack_public_path__ + \"cc51afdfc4c98b6b41f721212f970778.png\";","module.exports = __webpack_public_path__ + \"932714910dfd17b80b017bbe53cc2dbb.png\";","module.exports = __webpack_public_path__ + \"119c969dfa6907c79941cdafa4759802.png\";","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""}