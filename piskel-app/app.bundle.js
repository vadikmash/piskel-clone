!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=22)}([function(e,n,t){e.exports=t.p+"de476d8e412c6a57ee46315d03cd60ec.png"},function(e,n,t){e.exports=t.p+"dc0c3d772410a5bb267cba4a6424ec24.png"},function(e,n,t){e.exports=t.p+"a15754a34f7f6bc40aa68c3c7d88a5a7.png"},function(e,n,t){e.exports=t.p+"0b08562cf2ce3321b7576170efd4ce20.png"},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var i=(s=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),a=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[t].concat(a).concat([i]).join("\n")}var s,o,c;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2],"{").concat(t,"}"):t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var o=e[s];null!=o[0]&&r[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="(".concat(o[2],") and (").concat(t,")")),n.push(o))}},n}},function(e,n,t){var r,i,a={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),o=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var r=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}}(),c=null,l=0,p=[],d=t(11);function u(e,n){for(var t=0;t<e.length;t++){var r=e[t],i=a[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(b(r.parts[s],n))}else{var o=[];for(s=0;s<r.parts.length;s++)o.push(b(r.parts[s],n));a[r.id]={id:r.id,refs:1,parts:o}}}}function f(e,n){for(var t=[],r={},i=0;i<e.length;i++){var a=e[i],s=n.base?a[0]+n.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};r[s]?r[s].parts.push(o):t.push(r[s]={id:s,parts:[o]})}return t}function h(e,n){var t=o(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),p.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,t);t.insertBefore(n,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=p.indexOf(e);n>=0&&p.splice(n,1)}function g(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return t.nc}();r&&(e.attrs.nonce=r)}return v(n,e.attrs),h(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,r,i,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var s=l++;t=c||(c=g(n)),r=w.bind(null,t,s,!1),i=w.bind(null,t,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),h(e,n),n}(n),r=function(e,n,t){var r=t.css,i=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(r=d(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}.bind(null,t,n),i=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=g(n),r=function(e,n){var t=n.css,r=n.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){m(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=f(e,n);return u(t,n),function(e){for(var r=[],i=0;i<t.length;i++){var s=t[i];(o=a[s.id]).refs--,r.push(o)}e&&u(f(e,n),n);for(i=0;i<r.length;i++){var o;if(0===(o=r[i]).refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete a[o.id]}}}};var x,y=(x=[],function(e,n){return x[e]=n,x.filter(Boolean).join("\n")});function w(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(n,i);else{var a=document.createTextNode(i),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(a,s[n]):e.appendChild(a)}}},function(e,n,t){e.exports='<header>\n  <div class="slide-menu">\n    <img src="'+t(12)+'" alt="menu">\n  </div>\n  <h1>Piskel-Clone</h1>\n  <div class="options">\n    <img src="'+t(13)+'" alt="options">\n  </div>\n</header>\n<main>\n  <div class="tools-wrapper" id="tools-wrapper">\n    <ul class="tool-picker">\n      <li id="pencil">\n        <img src="'+t(0)+'" alt="pencil-icon" class="tool-icon">\n        <span>(P)</span>\n      </li>\n      <li id="bucket">\n        <img src="'+t(1)+'" alt="bucket-icon" class="tool-icon">\n        <span>(B)</span>\n      </li>\n      <li id="eraser">\n        <img src="'+t(2)+'" alt="eraser-icon" class="tool-icon">\n        <span>(E)</span>\n      </li>\n      <li id="picker">\n        <img src="'+t(3)+'" alt="pick-icon" class="tool-icon">\n        <span>(C)</span>\n      </li>\n      <li id="reset">\n        <img src="'+t(14)+'" alt="reset-icon" class="tool-icon">\n        <span>(R)</span>\n      </li>\n    </ul>\n    <ul class="color-picker">\n      <li id="current">\n        <input type="color" id="color-selector">\n      </li>\n      <li id="prev">\n        <div class="color-circle" id="prev-indicator"></div>\n      </li>\n      <li class="red" id="red">\n        <div class="color-circle"></div>\n      </li>\n      <li class="blue" id="blue">\n        <div class="color-circle"></div>\n      </li>\n    </ul>\n  </div>\n  <div class="canvas-wrapper" id="canvas-wrapper">\n    <div class="palette-background" id="palette-background">\n      <canvas class="palette" id="palette" width="512" height="512">\n        \x3c!-- fallback contect --\x3e\n        <p>canvas is not supported :(</p>\n      </canvas>\n    </div>\n  </div>\n  <div class="preview-wrapper">\n    <div class="preview-box">\n      <h3>preview</h3>\n      <div class="preview-img-wrapper">\n        <img id="preview" alt="preview" width="250" height="250">\n      </div>\n      <br>\n      <div class="fps-range-wrapper" id="fps-rate-wrapper">\n        <span class="fps-indicator" id="fps-indicator">8 fps</span>\n        <input class="fps-range" id="fps-range" type="range" min="1" max="24" value="8">\n      </div>\n      <div class="frame-rate-wrapper" id="fps-wrapper">\n        <div class="fps-button" id="4fps">4fps</div>\n        <div class="fps-button" id="8fps">8fps</div>\n        <div class="fps-button" id="16fps">16fps</div>\n      </div>\n      <div class="play-button" id="play">\n          <span>Play (A)</span>\n      </div>\n    </div>\n  </div>\n</main>\n'},function(e,n,t){e.exports='<div class="frame-control" id="frame-control">\n    <div class="new frame" id="new-frame">\n      <img src="'+t(15)+'" alt="new">\n      <span>new frame</span>\n    </div>\n</div>\n'},function(e,n){e.exports={COLORS:{black:"#000000",gray:"#404040",red:"#FF0000",blue:"#0000CC",white:"#FFFFFF",transparent:"#00000000",selectedTool:"rgb(219, 219, 219)"},RESOLUTIONS:{low:{cols:32,rows:32},medium:{cols:64,rows:64},high:{cols:128,rows:128}}}},function(e,n,t){var r=t(10);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(5)(r,i);r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(4)(!1)).push([e.i,"* {\n  box-sizing: border-box;\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0px;\n  padding: 0px;\n  user-select: none; }\n\nbody {\n  background: #f0f0f0;\n  color: black; }\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 8vh;\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\n  box-shadow: 3px 4px 8px -2px #545454;\n  background: white; }\n\nmain {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-content: center;\n  margin-top: 8vh; }\n\n.tools-wrapper {\n  margin: 0vh 1vw; }\n\n.palette-background {\n  box-sizing: content-box;\n  position: relative;\n  text-align: center;\n  height: 512px;\n  width: 512px;\n  background-color: #b9b9b9;\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\n  background-size: 32px 32px;\n  background-position: 0px 0px, 16px 16px;\n  border: 2px solid gray; }\n\n.palette {\n  height: 100%; }\n\n.preview-box {\n  padding: 1vh;\n  text-align: center;\n  background: white; }\n\n.preview-img-wrapper {\n  background-color: #b9b9b9;\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\n  background-size: 32px 32px;\n  background-position: 0px 0px, 16px 16px; }\n\n.preview-box input {\n  width: 80%; }\n\n.preview-box h3 {\n  padding: 0px;\n  margin: 1vw; }\n\n.frame-rate-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  width: 100%;\n  padding: 1vh; }\n\n.fps-range-wrapper {\n  display: flex;\n  justify-content: space-around;\n  padding: 5px 0px; }\n\n.fps-range {\n  width: 190px !important;\n  background: skyblue; }\n\n.fps-button {\n  transition: all 0.07s;\n  text-align: center;\n  background: black;\n  color: #e2e2e2;\n  border-radius: 20px;\n  height: 25px;\n  width: 60px;\n  padding: 3px;\n  cursor: pointer; }\n\n.fps-button:hover {\n  transform: scale(1.08); }\n\n.fps-button:active {\n  transform: scale(1); }\n\n.preview-box, .frame-control, .new-frame, .frame, .play-button {\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\n  box-shadow: 3px 4px 8px -2px #545454; }\n\n.new {\n  cursor: pointer;\n  height: 70px;\n  font-size: 16pt;\n  padding: 10px;\n  background: #afafaf; }\n\n.new img {\n  display: inline-block;\n  padding-bottom: 8px; }\n\n.new span {\n  display: inline-block;\n  height: 100%;\n  width: 60%; }\n\n.play-button {\n  transition: all, 0.06s;\n  height: 60px;\n  width: 15vw;\n  margin: 2vh 2vw;\n  font-size: 24pt;\n  padding: 1vw;\n  background: skyblue;\n  cursor: pointer; }\n\n.play-button:hover {\n  transform: scale(1.05);\n  background: #6cd5ff; }\n\n.play-button:active {\n  transform: scale(1);\n  background: skyblue; }\n\n.slide-menu, .options {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50px;\n  height: 6vh; }\n\n.slide-menu img {\n  width: 25px;\n  height: 25px; }\n\n.options img {\n  width: 25px;\n  height: 25px; }\n\nh1 {\n  flex-grow: 1;\n  font-size: 3.3vh;\n  padding-left: 2vw;\n  padding-top: 2px; }\n\n.tool-picker, .color-picker {\n  cursor: pointer;\n  list-style-type: none;\n  color: gray;\n  width: 6.5vw;\n  margin: 0px 6% 15%;\n  background: white;\n  -webkit-box-shadow: 3px 4px 8px -2px #545454;\n  -moz-box-shadow: 3px 4px 8px -2px #545454;\n  box-shadow: 3px 4px 8px -2px #545454; }\n\n.tool-picker li, .color-picker li {\n  padding: 1.5vh 0px 2vh 1vw; }\n\n.tool-picker li:hover, .color-picker li:hover {\n  background: #dbdbdb; }\n\n.tool-picker li:active, .color-picker li:active {\n  color: #141414; }\n\n.tool-picker span, .color-picker span {\n  display: inline-block;\n  margin: 0px 0px 0px 7%; }\n\n.color-circle {\n  display: inline-block;\n  height: 15px;\n  width: 15px;\n  border: 1px solid black;\n  border-radius: 100%; }\n\n.red div {\n  background: red; }\n\n.blue div {\n  background: blue; }\n",""])},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var i,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,n,t){e.exports=t.p+"b9b32884344036759c6cb3edf80b9229.png"},function(e,n,t){e.exports=t.p+"9077631886fed1c77510159f8eca20f5.png"},function(e,n,t){e.exports=t.p+"60f305de56a834c2a460134f8c10291d.png"},function(e,n,t){e.exports=t.p+"551d8c76aee47b0bb8adaee8defd04ea.png"},function(e,n,t){var r=t(17);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(5)(r,i);r.locals&&(e.exports=r.locals)},function(e,n,t){n=e.exports=t(4)(!1);var r=t(18),i=r(t(19)),a=r(t(20)),s=r(t(21));n.push([e.i,".frame-control {\n  width: 155px;\n  min-width: 100px;\n  height: 82vh;\n  padding: 0vh 1vw 0vh 0vh;\n  color: #363636;\n  overflow: scroll;\n  background: white; }\n\n.frame-control::-webkit-scrollbar {\n  width: 12px; }\n\n.frame-control::-webkit-scrollbar-track {\n  background: #bbbbbb; }\n\n.frame-control::-webkit-scrollbar-thumb {\n  background: #555; }\n\n.frame {\n  position: relative;\n  transition: all 0.09s;\n  height: 110px;\n  width: 90%;\n  margin: 1vw;\n  font-size: 18pt;\n  text-align: center;\n  flex-basis: 100%;\n  border: 2px solid #575757;\n  cursor: pointer; }\n\n.frame-preview {\n  background-color: #b9b9b9;\n  background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray), linear-gradient(45deg, gray 25%, transparent 25%, transparent 74%, gray 75%, gray);\n  background-size: 32px 32px;\n  background-position: 0px 0px, 16px 16px;\n  height: 100%;\n  width: 100%; }\n\n.copy-frame, .frame-number, .move-frame, .delete-frame {\n  position: absolute;\n  height: 30px;\n  width: 30px;\n  border: 1px solid #2b2b2b;\n  padding: 1px;\n  margin: 2px;\n  color: #2e2e2e; }\n\n.copy-frame:hover, .move-frame:hover, .delete-frame:hover {\n  transform: scale(1.1);\n  transform: translateY(); }\n\n.frame-number {\n  top: 0px;\n  left: 0px;\n  background: #afafaf; }\n\n.delete-frame {\n  top: 0px;\n  right: 0px;\n  cursor: pointer;\n  background: url("+i+"), #afafaf;\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n.move-frame {\n  bottom: 0px;\n  left: 0px;\n  cursor: move;\n  background: url("+a+"), #afafaf;\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n.copy-frame {\n  bottom: 0px;\n  right: 0px;\n  cursor: pointer;\n  background: url("+s+"), #afafaf;\n  background-repeat: no-repeat;\n  background-size: auto;\n  background-position: center; }\n\n.new {\n  height: 80px; }\n  .new :hover {\n    transform: scale(1.05); }\n  .new :active {\n    transform: scale(1); }\n",""])},function(e,n,t){"use strict";e.exports=function(e,n){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||n?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,n,t){e.exports=t.p+"cc51afdfc4c98b6b41f721212f970778.png"},function(e,n,t){e.exports=t.p+"932714910dfd17b80b017bbe53cc2dbb.png"},function(e,n,t){e.exports=t.p+"119c969dfa6907c79941cdafa4759802.png"},function(e,n,t){"use strict";t.r(n);t(9);var r=t(6),i=t.n(r),a=t(0),s=t.n(a),o=t(1),c=t.n(o),l=t(3),p=t.n(l),d=t(2),u=t.n(d),f=e=>{e.bucketClick=()=>{e.tool="bucket",e.cleanTools(),e.bucket.style.background=e.COLORS.selectedTool,e.canvas.style.cursor=`url(${c.a}) 4 8, auto`},e.pencilClick=()=>{e.tool="pencil",e.cleanTools(),e.color=e.colorSelector.value,e.pencil.style.background=e.COLORS.selectedTool,e.canvas.style.cursor=`url(${s.a}) 0 30, auto`},e.pickerClick=()=>{e.tool="picker",e.cleanTools(),e.picker.style.background=e.COLORS.selectedTool,e.canvas.style.cursor=`url(${p.a}) 0 30, auto`},e.resetClick=()=>{e.animating&&e.play(),e.frames[e.currentFrame].reset()},e.eraserClick=()=>{e.tool="eraser",e.cleanTools(),e.eraser.style.background=e.COLORS.selectedTool,e.canvas.style.cursor=`url(${u.a}) 0 30, auto`,e.color=e.COLORS.transparent},e.canvasClick=n=>{e.animating&&e.play(),e.frames[e.currentFrame].click(n)},e.canvasMouseDown=n=>{e.animating&&(e.play(),n.stopPropagation()),e.frames[e.currentFrame].mouseDown(n)},e.keyHandler=n=>{"KeyB"===n.code&&e.bucketClick(),"KeyP"===n.code&&e.pencilClick(),"KeyC"===n.code&&e.pickerClick(),"KeyR"===n.code&&e.resetClick(),"KeyE"===n.code&&e.eraserClick(),"KeyA"===n.code&&e.play()},e.bodyMouseUp=n=>{"palette"!==n.target.id&&(e.canvas.onmouseup=null,e.canvas.onmousemove=null)},e.selectColor=()=>{e.changeColor(e.colorSelector.value)},e.fpsClick=n=>{n&&("4fps"===n.target.id&&e.setFps(4),"8fps"===n.target.id&&e.setFps(8),"16fps"===n.target.id&&e.setFps(16)),e.animating&&(e.play(),e.play()),e.playPreview()},e.fpsChange=()=>{e.setFps(document.getElementById("fps-range").value)}},h=e=>{e.cleanTools=()=>{e.bucket.style.background=e.COLORS.transparent,e.pencil.style.background=e.COLORS.transparent,e.picker.style.background=e.COLORS.transparent,e.eraser.style.background=e.COLORS.transparent,e.reset.style.background=e.COLORS.transparent},e.setFps=n=>{e.fps=n,e.animating&&(e.play(),e.play()),e.playPreview(),document.getElementById("fps-range").value=e.fps,document.getElementById("fps-indicator").innerHTML=`${e.fps} fps`},e.fpsChange=()=>{e.setFps(document.getElementById("fps-range").value)},e.changeColor=n=>{if(n!==e.color&&e.newColor!==e.COLORS.transparent){const t=e.color;e.color=n!==e.COLORS.transparent?n:e.COLORS.white,e.prevColor=t}e.prevInd.style.background=e.prevColor,document.getElementById("color-selector").value=e.color},e.animate=()=>{e.currentFrame+=1,e.currentFrame===e.frames.length&&(e.currentFrame=0),e.frames[e.currentFrame].draw()},e.play=()=>{e.animating?(clearInterval(e.animationIndervalId),e.animating=!1,document.getElementById("play").innerText="Play (A)",document.exitFullscreen()):(e.animationIndervalId=setInterval(e.animate,1e3/e.fps),e.animating=!0,document.getElementById("play").innerText="Stop (A)",document.getElementById("palette-background").requestFullscreen())},e.animatePreview=()=>{document.getElementById("preview").src=e.previews[e.previewFrame],e.previewFrame+=1,e.previewFrame===e.previews.length&&(e.previewFrame=0)},e.playPreview=()=>{e.previewIndervalId&&clearInterval(e.previewIndervalId),e.previewIndervalId=setInterval(e.animatePreview,1e3/e.fps)}},m=t(7),g=t.n(m);class v{constructor(e){this.state=e;const{currentResolution:n,canvas:t,ctx:r,COLORS:i}=e;this.COLORS=i,this.canvas=t,this.ctx=r;const{cols:a,rows:s}=n;this.cols=a,this.rows=s,this.pixelSize=t.width/this.cols,this.pixels=Array(a*s).fill(i.transparent);const o=document.createElement("div");o.className="frame",o.id=`frame${e.frames.length}`,o.innerHTML=`\n    <div class="frame-number" id="number">${e.frames.length+1}</div>\n    <img class="frame-preview" id="frame-preview${e.frames.length}"\n         src="" alt="preview"></img>\n\n    <div class="copy-frame" id="copy"></div>\n    `;const c=document.getElementById("frame-control"),l=document.getElementById("new-frame");c.insertBefore(o,l),o.addEventListener("click",e.switchFrame)}static clone(e){if(e instanceof v){const n=new v(e.state);return Object.assign(n.pixels,e.pixels),n}throw new Error("Object trying to be cloned is not a Frame")}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let e=0;e<this.cols;e+=1)for(let n=0;n<this.rows;n+=1)this.ctx.fillStyle=this.pixels[e*this.rows+n],this.ctx.strokeStyle=this.pixels[e*this.rows+n],this.ctx.fillRect(this.pixelSize*n,this.pixelSize*e,this.pixelSize,this.pixelSize);this.state.previews[this.state.currentFrame]=this.canvas.toDataURL(),document.getElementById(`frame-preview${this.state.currentFrame}`).src=this.state.previews[this.state.currentFrame]}reset(){this.pixels=this.pixels.map(()=>this.COLORS.transparent),this.draw()}getClickedPixel(e,n,t){const r=Math.floor(e/this.pixelSize),i=Math.floor(n/this.pixelSize),a=i*this.cols+r;return a!==t&&r>=0&&i>=0&&r<this.cols&&i<this.rows?{indx:a,x:r,y:i}:{indx:void 0,x:void 0,y:void 0}}outOfRange(e,n){return e<0||n<0||e>=this.cols||n>=this.rows}fill(e,n,t){const{color:r}=this.state;this.outOfRange(e,n)||t===this.pixels[n*this.cols+e]||(this.outOfRange(e,n-1)||this.pixels[(n-1)*this.cols+e]!==t||(this.pixels[(n-1)*this.cols+e]=r,this.fill(e,n-1,t)),this.outOfRange(e+1,n)||this.pixels[n*this.cols+(e+1)]!==t||(this.pixels[n*this.cols+(e+1)]=r,this.fill(e+1,n,t)),this.outOfRange(e,n+1)||this.pixels[(n+1)*this.cols+e]!==t||(this.pixels[(n+1)*this.cols+e]=r,this.fill(e,n+1,t)),this.outOfRange(e-1,n)||this.pixels[n*this.cols+e-1]!==t||(this.pixels[n*this.cols+e-1]=r,this.fill(e-1,n,t)))}click(e){const{tool:n,color:t}=this.state,r=this.canvas.getBoundingClientRect(),i=e.clientX-r.left,a=e.clientY-r.top,s=this.getClickedPixel(i,a),o=s.indx;if(o||0===o){if("pencil"!==n&&"eraser"!==n||(this.pixels[o]=t),"bucket"===n){const e=this.pixels[o];this.pixels[o]=t,this.fill(s.x,s.y,e)}"picker"===n&&this.state.changeColor(this.pixels[o])}this.draw()}mouseDown(e){const{tool:n,color:t}=this.state;if("pencil"===n||"eraser"===n){const n=this.canvas.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;this.pixel=this.getClickedPixel(r,i),this.pixelIndex=this.pixel.indx,(this.pixelIndex||0===this.pixelIndex)&&(this.initialX=r,this.initialY=i,this.pixels[this.pixelIdex]=t,document.onmousemove=this.onMove.bind(this),document.onmouseup=this.onUp.bind(this))}this.draw()}onMove(e){const{tool:n,color:t}=this.state;if("pencil"===n||"eraser"===n){const n=this.canvas.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,a=this.getClickedPixel(r,i).indx;(a||0===a)&&(this.pixels[a]=t),this.drawLine(r,i),this.initialX=r,this.initialY=i,this.draw()}}drawLine(e,n){const{color:t}=this.state;let r=e,i=Math.abs(r-this.initialX)/this.cols;r>this.initialX&&(i=-i);let a=n,s=Math.abs(a-this.initialY)/this.rows;for(a>this.initialY&&(s=-s);Math.abs(r-this.initialX)>Math.abs(i)||Math.abs(a-this.initialY)>Math.abs(s);){r+=i,a+=s;const e=this.getClickedPixel(r,a).indx;e&&(this.pixels[e]=t)}}onUp(){document.onmousemove=null,document.onmouseup=null,this.draw()}}t(16);class b{constructor(e){this.state=e;const n=document.createElement("div");n.innerHTML=g.a;const t=document.getElementById("canvas-wrapper");t.parentNode.insertBefore(n,t),this.state.frames=[],this.state.previews=[],this.createNewFrame(),document.getElementById("new-frame").addEventListener("click",this.createNewFrame.bind(this))}swapFrames(e,n){let t=this.state.frames[e];this.state.frames[e]=this.state.frames[n],this.state.frames[n]=t,t=this.state.previews[e],this.state.previews[e]=this.state.previews[n],this.state.previews[n]=t}static moveDownFrame(e){const n=e.target.parentNode;let t=+n.id.slice(5);n.style["z-index"]=1,document.body.style.cursor="move";const r={x:e.clientX,y:e.clientY};document.onmousemove=function(e){const i={x:e.clientX-r.x,y:e.clientY-r.y};i.y>111&&"new-frame"!==n.nextSibling.id&&(n.parentNode.insertBefore(n,n.nextSibling.nextSibling),r.y=e.clientY,i.y=0,this.swapFrames(t,t+1),t+=1),i.y<-111&&n.previousSibling.previousSibling&&(n.parentNode.insertBefore(n,n.previousSibling),r.y=e.clientY,i.y=0,this.swapFrames(t,t-1),t-=1),n.style.transform=`translateY(${i.y}px)`}.bind(this),document.onmouseup=function(){document.body.style.cursor="inherit",n.style.transform="translateY(0px)",n.style.transform="scale(1)",document.onmousemove=null,document.onmouseup=null,this.state.currentFrame=t,this.renumerate(),this.state.frames[this.state.currentFrame].draw()}.bind(this)}renumerate(){let e=0,n=document.getElementById("frame-control").firstChild.nextSibling;for(;"new-frame"!==n.id;)n.id=`frame${e}`,n.innerHTML=`\n      <div class="frame-number" id="number${e}">${e+1}</div>\n      <div class="delete-frame" id="delete${e}"></div>\n\n      <img class="frame-preview" id="frame-preview${e}"\n          src="${this.state.previews[e]}" alt="preview"></img>\n\n      <div class="move-frame" id="move${e}"></div>\n      <div class="copy-frame" id="copy${e}"></div>\n      `,n.style.border="2px solid gray",n.style["z-index"]=0,document.getElementById(`move${e}`).addEventListener("mousedown",b.moveDownFrame.bind(this)),n.onclick=this.switchFrame.bind(this),n=n.nextSibling,e+=1;document.getElementById(`frame${this.state.currentFrame}`).style.border="2px solid yellow",1===this.state.frames.length&&(document.getElementById(`delete${this.state.currentFrame}`).remove(),document.getElementById(`move${this.state.currentFrame}`).remove())}switchFrame(e){if("frame-preview"===e.target.id.slice(0,13)){this.state.animating&&this.state.play();const n=+e.target.id.slice(13);document.getElementById(`frame${n}`).style.border="2px solid yellow",this.state.currentFrame=n}if("number"===e.target.id.slice(0,6)){this.state.animating&&this.state.play();const n=+e.target.id.slice(6);document.getElementById(`frame${n}`).style.border="2px solid yellow",this.state.currentFrame=n}if("delete"===e.target.id.slice(0,6)&&this.state.frames.length>1){const n=+e.target.id.slice(6);this.state.frames.splice(n,1),this.state.previews.splice(n,1),this.state.currentFrame>=this.state.frames.length&&(this.state.currentFrame=this.state.frames.length-1),this.state.previewFrame=0,e.target.parentNode.remove()}if("copy"===e.target.id.slice(0,4)){const n=+e.target.id.slice(4);this.state.frames.splice(n,0,v.clone(this.state.frames[n])),this.state.previews.splice(n,0,this.state.previews[n]),this.state.currentFrame=n+1}this.renumerate(),this.state.frames[this.state.currentFrame].draw()}createNewFrame(){this.state.currentFrame=this.state.frames.length,this.state.frames.push(new v(this.state)),this.state.frames[this.state.currentFrame].draw(),this.renumerate()}}var x=t(8),y=t.n(x);(new class{constructor(e){this.state=e}init(){const{COLORS:e,RESOLUTIONS:n}=y.a,t={COLORS:e,RESOLUTIONS:n,currentResolution:n.medium,tool:"pencil",color:e.black,prevColor:e.gray,currentFrame:0,previewFrame:0,animating:!1,fps:8};this.state=t,h(t),f(t),document.body.innerHTML=i.a,t.canvas=document.getElementById("palette"),t.ctx=t.canvas.getContext("2d"),t.canvas.onclick=t.canvasClick,t.canvas.onmousedown=t.canvasDown,t.canvas.onmousedown=t.canvasMouseDown,t.reset=document.getElementById("reset"),t.reset.onclick=t.resetClick,t.bucket=document.getElementById("bucket"),t.bucket.onclick=t.bucketClick,t.picker=document.getElementById("picker"),t.picker.onclick=t.pickerClick,t.pencil=document.getElementById("pencil"),t.pencil.addEventListener("click",t.pencilClick),t.eraser=document.getElementById("eraser"),t.eraser.addEventListener("click",t.eraserClick),t.canvas.style.cursor=`url(${s.a}) 0 30, auto`,document.addEventListener("keydown",t.keyHandler),t.current=document.getElementById("current"),t.colorSelector=document.getElementById("color-selector"),t.current.onclick=t.selectColor,t.prev=document.getElementById("prev"),t.prev.onclick=function(){t.changeColor(t.prevColor)},t.prevInd=document.getElementById("prev-indicator"),t.red=document.getElementById("red"),t.red.onclick=function(){t.changeColor(t.COLORS.red)},t.blue=document.getElementById("blue"),t.blue.onclick=function(){t.changeColor(t.COLORS.blue)},t.pencil.style.background="rgb(219, 219, 219)",t.changeColor(t.color),document.getElementById("color-selector").addEventListener("change",t.selectColor),document.getElementById("play").addEventListener("click",t.play),document.getElementById("fps-wrapper").addEventListener("click",t.fpsClick),document.getElementById("fps-range").addEventListener("input",t.fpsChange),document.addEventListener("mouseup",t.bodyMouseUp),t.frameManager=new b(t),t.playPreview()}}).init()}]);
//# sourceMappingURL=app.bundle.js.map